<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Зоны доставки</title>
  <link rel="stylesheet" href="css/styles.css" />

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />
</head>
<body>
  <div class="topbar">
    <div class="container">
      <div class="backRow">
        <button class="backBtn" id="backBtn" type="button">
          <img src="assets/icons/back.svg" alt="back" />
          <span>Назад</span>
        </button>
      </div>

      <div class="headerRow" style="padding-top:0;">
        <h1 class="siteTitle">Зоны доставки</h1>
      </div>

      <div class="controls" style="padding-top:0;">
        <div class="searchWrap" style="max-width:520px;">
          <input id="addrInput" placeholder="Оренбург: введите адрес..." autocomplete="off" />
          <button class="iconBtn" id="clearAddr" title="Очистить">✕</button>
          <div class="addrSuggest" id="addrSuggest" style="display:none;"></div>
        </div>
      </div>

      <div class="zoneInfo" id="zoneInfo" style="display:none;"></div>
    </div>
  </div>

  <main class="container" style="padding-top:14px;">
    <div id="map" class="zoneMap"></div>
  </main>

  <!-- Leaflet + Turf -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@turf/turf@6/turf.min.js"></script>

  <script>
  // Плашка-диагностика
  (function(){
    const box = document.createElement("div");
    box.style.cssText = "position:fixed;bottom:12px;left:12px;right:12px;z-index:99999;padding:10px 12px;border-radius:14px;background:rgba(21,25,36,.95);border:1px solid rgba(42,50,70,.95);color:#e9edf5;font-weight:900;font-family:system-ui";
    box.id = "dbg";
    box.textContent = "DBG: страница загрузилась…";
    document.body.appendChild(box);

    window.addEventListener("error", (e)=>{
      box.textContent = "DBG: JS ошибка: " + (e.message || e.error || "unknown");
    });

    window.addEventListener("load", ()=>{
      const hasL = typeof window.L !== "undefined";
      const hasT = typeof window.turf !== "undefined";
      box.textContent = "DBG: Leaflet=" + (hasL?"OK":"NO") + ", Turf=" + (hasT?"OK":"NO");
    });
  })();
  </script>
  
  <script
  src="js/zones.js"
  onload="document.getElementById('dbg').textContent='DBG: zones.js LOADED'"
  onerror="document.getElementById('dbg').textContent='DBG: zones.js 404/ERROR (путь или регистр)'"
></script>
</body>

</html>






